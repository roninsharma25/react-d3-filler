(this["webpackJsonpreact-d3-viz"]=this["webpackJsonpreact-d3-viz"]||[]).push([[0],{14:function(t,e,r){},51:function(t,e,r){},54:function(t,e,r){"use strict";r.r(e);var a=r(2),n=r.n(a),s=r(19),i=r.n(s),c=(r(51),r.p+"static/media/logo.6ce24c58.svg"),o=(r(14),r(7)),l=r(8),u=r(9),h=r(10),p=r(4),d=r(1),y=r(0),f=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(t){var a;return Object(o.a)(this,r),(a=e.call(this,t)).state={playerScores:[1,1],playerBoxes:[[90],[9]],currentPlayer:0,prevColors:["",""],playerArrows:["",""]},a.changeColor=a.changeColor.bind(Object(p.a)(a)),a.getAdjacentIndices=a.getAdjacentIndices.bind(Object(p.a)(a)),a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.main()}},{key:"componentDidUpdate",value:function(){this.updateText()}},{key:"changeOpacity",value:function(t){var e=["red","blue","green","black","purple","white","yellow"],r=d.b(".bottom")._groups[0];e.forEach((function(t,e){d.a(r[e]).style("opacity",1)})),t.forEach((function(t){""!==t&&d.a(r[e.indexOf(t)]).style("opacity",.1)}))}},{key:"generateData",value:function(t,e,r,a){for(var n,s,i,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=["red","blue","green","black","purple","white","yellow"],l=[],u=e[1],h=0;h<t[0];h++){n=e[0];for(var p=0;p<t[1];p++)s=c?o[p]:o[Math.floor(Math.random()*o.length)],i=c?"bottom":"top",l.push({x:n,y:u,size:a,flag:c,color:s,className:i}),n+=r[0];u+=r[1]}return l}},{key:"updateText",value:function(){this.state.currentPlayer?d.a(".Vis").select(".player2").text("Player 2 Score: "+this.state.playerScores[1]):d.a(".player1").text("Player 1 Score: "+this.state.playerScores[0])}},{key:"main",value:function(){var t=this,e=this.generateData.apply(this,[[10,10],[150,75],[40,40],40]),r=this.generateData.apply(this,[[1,7],[50,515],[90,100],50,!0]),a=this.props,n=a.height,s=a.width,i=a.border,c=d.a(".Vis").append("svg").attr("height",n).attr("width",s).style("border",i);c.selectAll("rect").data(e.concat(r)).enter().append("rect").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(t){return t.size})).attr("width",(function(t){return t.size})).style("fill",(function(t){return t.color})).attr("stroke","black").attr("class",(function(t){return t.className})).on("click",(function(e){e.target.__data__.flag&d.a(e.target).style("opacity")&&t.update(e.target.__data__.color)}));var o="white",l="25px",u=this.state.playerScores;c.append("text").attr("x",this.props.width/4).attr("y",50).attr("text-anchor","middle").style("fill",o).style("font-size",l).style("text-decoration","underline").text("Player 1 Score: "+u[0]).attr("class","player1"),c.append("text").attr("x",3*this.props.width/4).attr("y",50).attr("text-anchor","middle").style("fill",o).style("font-size",l).style("text-decoration","underline").text("Player 2 Score: "+u[1]).attr("class","player2");var h=c.append("line").attr("x1",25).attr("y1",45).attr("x2",75).attr("y2",45).attr("stroke-width",5).attr("stroke","white").attr("marker-end","url(#triangle)"),p=c.append("line").attr("x1",370).attr("y1",45).attr("x2",420).attr("y2",45).attr("stroke-width",5).attr("stroke","white").attr("marker-end","url(#triangle)").style("visibility","hidden");c.append("svg:defs").append("svg:marker").attr("id","triangle").attr("refX",6).attr("refY",6).attr("markerWidth",30).attr("markerHeight",30).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 0 0 12 6 0 12 3 6").style("fill","red"),this.setState({playerArrows:[h,p]})}},{key:"update",value:function(t){var e=this,r=this.state.playerBoxes[this.state.currentPlayer],a=r;a.forEach((function(t){return a=a.concat(e.getAdjacentIndices(t))}));var n=r.concat(this.getNewIndices(a,t));n=(n=n.filter((function(t,e){return n.indexOf(t)===e}))).filter((function(t){return!e.state.playerBoxes[1-e.state.currentPlayer].includes(t)}));var s=this.state.playerScores,i=this.state.playerBoxes,c=this.state.prevColors;this.changeColor(n,t);var o=this.state.currentPlayer?[c[0],t]:[t,c[1]];this.changeOpacity(o),this.setState({prevColors:o}),this.state.currentPlayer?(this.setState({playerBoxes:[i[0],n]}),this.setState({playerScores:[s[0],n.length]})):(this.setState({playerBoxes:[n,i[1]]}),this.setState({playerScores:[n.length,s[1]]})),this.state.playerArrows[this.state.currentPlayer].style("visibility","hidden"),this.state.playerArrows[1-this.state.currentPlayer].style("visibility","visible"),this.setState({currentPlayer:1-this.state.currentPlayer})}},{key:"getNewIndices",value:function(t,e){var r=d.b("rect")._groups[0],a=[];return t.forEach((function(t){r[t].__data__.color===e&&a.push(t)})),a}},{key:"changeColor",value:function(t,e){t.forEach((function(t){var r=d.b("rect")._groups[0][t];d.a(r).transition().duration(2e3).style("fill",e)}))}},{key:"getAdjacentIndices",value:function(t){var e=t-10,r=t+10,a=t+1,n=t-1,s=[];return e>=0&&s.push(e),r<=99&&s.push(r),t%10!==9&&s.push(a),t%10!==0&&s.push(n),s}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"Vis"})}}]),r}(a.Component),g=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(y.jsx)(f,{height:600,width:700,border:"5px solid white"})}}]),r}(a.Component);var v=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("header",{className:"App-header",children:[Object(y.jsx)("img",{src:c,className:"App-logo",alt:"logo"}),Object(y.jsx)(g,{})]})})},b=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,55)).then((function(e){var r=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;r(t),a(t),n(t),s(t),i(t)}))};i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(v,{})}),document.getElementById("root")),b()}},[[54,1,2]]]);
//# sourceMappingURL=main.6cca0c95.chunk.js.map