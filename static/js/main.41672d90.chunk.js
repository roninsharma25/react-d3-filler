(this["webpackJsonpreact-d3-viz"]=this["webpackJsonpreact-d3-viz"]||[]).push([[0],{15:function(t,e,r){},51:function(t,e,r){},54:function(t,e,r){"use strict";r.r(e);var a=r(2),n=r.n(a),i=r(20),s=r.n(i),o=(r(51),r.p+"static/media/logo.6ce24c58.svg"),l=(r(15),r(7)),c=r(8),u=r(9),h=r(11),p=r(18),y=r(0),d=r(1),f=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(t){var a;return Object(l.a)(this,r),(a=e.call(this,t)).state={playerScores:[1,1],playerBoxes:[[90],[9]],currentPlayer:0,prevColors:["",""],playerArrows:["",""],winner:null},a}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.main()}},{key:"componentDidUpdate",value:function(){this.updateText()}},{key:"changeOpacity",value:function(t){var e=["red","blue","green","white","purple","orange","yellow"],r=y.b(".bottom")._groups[0];e.forEach((function(t,e){y.a(r[e]).style("opacity",1)})),t.forEach((function(t){""!==t&&y.a(r[e.indexOf(t)]).style("opacity",.1)}))}},{key:"generateData",value:function(t,e,r,a){for(var n,i,s,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=["red","blue","green","white","purple","orange","yellow"],c=this.generateBoardColors(t[0]),u=[],h=e[1],p=0;p<t[0];p++){n=e[0];for(var y=0;y<t[1];y++)i=o?l[y]:c[p][y],s=o?"bottom":"top",u.push({x:n,y:h,size:a,flag:o,color:i,className:s}),n+=r[0];h+=r[1]}return u}},{key:"updateText",value:function(){this.state.currentPlayer?y.a(".Vis").select(".player2").text("Player 2 Score: "+this.state.playerScores[1]):y.a(".player1").text("Player 1 Score: "+this.state.playerScores[0])}},{key:"updateBoardText",value:function(t){var e=y.b(".board")._groups[0];t[0].forEach((function(t){y.a(e[t]).attr("visibility","visible").text("1")})),t[1].forEach((function(t){y.a(e[t]).attr("visibility","visible").text("2")}))}},{key:"generateBoardColors",value:function(){var t,e=["red","blue","green","white","purple","orange","yellow"],r=Object(p.a)(Array(10)).map((function(t){return Array(10).fill(0)}));return r.forEach((function(a,n){a.forEach((function(a,i){t=[].concat(e),i>=1&&(t=t.filter((function(t){return t!==r[n][i-1]}))),n>=1&&(t=t.filter((function(t){return t!==r[n-1][i]}))),r[n][i]=t[Math.floor(Math.random()*t.length)]}))})),r}},{key:"main",value:function(){var t=this,e=this.generateData.apply(this,[[10,10],[150,75],[40,40],40]),r=this.generateData.apply(this,[[1,7],[50,515],[90,100],50,!0]),a=this.props,n=a.height,i=a.width,s=a.border,o=y.a(".Vis").append("svg").attr("height",n).attr("width",i).style("border",s),l=o.selectAll(".groups").data(e.concat(r)).enter().append("g");l.append("rect").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("height",(function(t){return t.size})).attr("width",(function(t){return t.size})).style("fill",(function(t){return t.color})).attr("stroke","black").attr("class",(function(t){return t.className})).on("click",(function(e){e.target.__data__.flag&y.a(e.target).style("opacity")&&t.update(e.target.__data__.color)})),l.append("text").attr("x",(function(t){return t.x+t.size/3})).attr("y",(function(t){return t.y+2*t.size/3})).style("font-size","20px").style("fill","black").text("1").attr("class",(function(t){return t.flag?"stat":"board"})).attr("visibility","hidden");var c="white",u="25px",h=this.state.playerScores;o.append("text").attr("x",this.props.width/4).attr("y",50).attr("text-anchor","middle").style("fill",c).style("font-size",u).style("text-decoration","underline").text("Player 1 Score: "+h[0]).attr("class","player1"),o.append("text").attr("x",3*this.props.width/4).attr("y",50).attr("text-anchor","middle").style("fill",c).style("font-size",u).style("text-decoration","underline").text("Player 2 Score: "+h[1]).attr("class","player2");var p=o.append("line").attr("x1",20).attr("y1",45).attr("x2",70).attr("y2",45).attr("stroke-width",5).attr("stroke","white").attr("marker-end","url(#triangle)"),d=o.append("line").attr("x1",370).attr("y1",45).attr("x2",420).attr("y2",45).attr("stroke-width",5).attr("stroke","white").attr("marker-end","url(#triangle)").style("visibility","hidden");o.append("svg:defs").append("svg:marker").attr("id","triangle").attr("refX",10).attr("refY",10).attr("markerWidth",30).attr("markerHeight",30).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 0 0 20 10 0 20 Z").style("fill","red"),o.append("text").attr("x",this.props.width/2).attr("y",50).attr("text-anchor","middle").style("fill",c).style("font-size",u).style("text-decoration","underline").text("Winner: Player "+this.state.winner).attr("class","winner").style("visibility","hidden"),this.setState({playerArrows:[p,d]}),this.updateBoardText(this.state.playerBoxes)}},{key:"update",value:function(t){var e=this,r=this.state.playerBoxes[this.state.currentPlayer],a=r;a.forEach((function(t){return a=a.concat(e.getAdjacentIndices(t))}));var n=r.concat(this.getNewIndices(a,t));n=(n=n.filter((function(t,e){return n.indexOf(t)===e}))).filter((function(t){return!e.state.playerBoxes[1-e.state.currentPlayer].includes(t)}));var i=this.state.playerScores,s=this.state.playerBoxes,o=this.state.prevColors;this.changeColor(n,t);var l,c,u=this.state.currentPlayer?[o[0],t]:[t,o[1]];this.changeOpacity(u),this.setState({prevColors:u}),this.state.currentPlayer?(l=[s[0],n],c=[i[0],n.length]):(l=[n,s[1]],c=[n.length,i[1]]),this.setState({playerBoxes:l}),this.setState({playerScores:c}),this.state.playerArrows[this.state.currentPlayer].style("visibility","hidden"),this.state.playerArrows[1-this.state.currentPlayer].style("visibility","visible"),this.setState({currentPlayer:1-this.state.currentPlayer}),this.updateBoardText(l),this.checkEndGame(c)}},{key:"checkEndGame",value:function(t){var e=t[0],r=t[1];if(e+r===100){var a=e>r?1:r>e?2:"tie";this.setState({winner:a}),this.gameOver(a)}}},{key:"gameOver",value:function(t){[y.a(".player2"),y.a(".player1")].concat(Object(p.a)(this.state.playerArrows)).forEach((function(t){t.style("visibility","hidden")})),y.a(".winner").text((function(){return"tie"!==t?"Winner: Player "+t:"Tie"})).style("visibility","visible"),y.b("rect").on("click",null).style("opacity",1)}},{key:"getNewIndices",value:function(t,e){var r=y.b("rect")._groups[0],a=[];return t.forEach((function(t){r[t].__data__.color===e&&a.push(t)})),a}},{key:"changeColor",value:function(t,e){t.forEach((function(t){var r=y.b("rect")._groups[0][t];y.a(r).transition().duration(2e3).style("fill",e)}))}},{key:"getAdjacentIndices",value:function(t){var e=t-10,r=t+10,a=t+1,n=t-1,i=[];return e>=0&&i.push(e),r<=99&&i.push(r),t%10!==9&&i.push(a),t%10!==0&&i.push(n),i}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"Vis"})}}]),r}(a.Component),v=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(){return Object(l.a)(this,r),e.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(d.jsx)(f,{height:600,width:700,border:"5px solid white"})}}]),r}(a.Component);var g=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(d.jsx)(v,{})]})})},x=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,55)).then((function(e){var r=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,s=e.getTTFB;r(t),a(t),n(t),i(t),s(t)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),x()}},[[54,1,2]]]);
//# sourceMappingURL=main.41672d90.chunk.js.map